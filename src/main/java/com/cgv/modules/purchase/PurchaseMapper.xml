<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.cgv.modules.purchase.PurchaseMapper">

    <resultMap id="resultMapObj" type="com.cgv.modules.purchase.Purchase"></resultMap>
    
	<select id="selectMovie" resultMap="resultMapObj">
		SELECT
			mNameKor
			,mAgeLimit
			,mSeq
		FROM Movie
	</select>
	
	<select id="selectTheater" resultMap="resultMapObj">
		SELECT
			d.thLocation
			,a.mSeq
		FROM Movie a
		INNER JOIN date b ON b.Movie_mSeq = a.mSeq 
		INNER JOIN screen c ON c.scSeq = b.screen_scSeq
		INNER JOIN Theater d ON d.thSeq = c.Theater_thSeq
		WHERE 1=1
			AND mSeq = #{mSeq}
	</select>
	
	
	
	
	
</mapper>	